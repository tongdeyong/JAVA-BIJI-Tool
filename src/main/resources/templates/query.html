<!--
User: deyong_tong
Date: 2019/3/26
Time: 11:01
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>查询数据</title>
    <link href="./css/query.css" rel="stylesheet">
    <!--查询详情显示模板-->
    <script id="select-template" type="text/x-handlebars-template">
        <table border="1px" cellpadding="0" cellspacing="0" class="table">
            <tr>
                <th style="width: 40px">序号</th>
                <th style="width: 100px">分类</th>
                <th style="width: 150px">大标题</th>
                <th style="width: 150px">小标题</th>
                <th style="width: 300px">详细内容</th>
                <th style="width: 100px">最后更新时间</th>
                <th style="width: 170px">操作</th>
            </tr>

            {{#each this}}
            <tr>
                <td>
                    <span style="width: 40px">{{@index}}</span>
                </td>
                <td><span style="width: 100px">{{contentClass}}</span></td>
                <td><span style="width: 150px">{{parentTitle}}</span></td>
                <td><span style="width: 150px">{{subheading}}</span></td>
                <td><span style="width: 300px">{{description}}</span></td>
                <td><span style="width: 100px">{{lastModify}}</span></td>
                <td>
                    <span style="width: 170px">
                        <button name="detail" class="c-button" detail="{{{base64Data}}}">查看</button>
                        <button name="modify" class="c-button">修改</button>
                        <button name="delete" no="{{{id}}}" class="c-button">删除</button>
                    </span>
                </td>
            </tr>
            {{/each}}
        </table>
    </script>
</head>
<body style="font-size: 12px">
<H2>查询数据</H2>
<hr style="color: midnightblue">
<div style="margin-top: 20px">
    <table>
        <tr>
            <td>分类：</td>
            <td>
                <select id="contentClass"></select>
            </td>
            <td>大标题：</td>
            <td>
                <input id="queryTitle">
            </td>
            <td>小标题：</td>
            <td>
                <input id="querySubTitle">
            </td>
            <td>
                <button id="query-button" class="-button">搜索</button>
            </td>
            <td>
                <button class="-button" onclick="goAdd()">添加</button>
            </td>
            <td>
                <button class="-button" onclick="goIndex()">返回</button>
            </td>
        </tr>
    </table>
</div>
<div id="result-div">
    <p>查询结果：</p>
    <div id="resultTable"></div>
</div>
<!--下拉选模板-->
<script id="choose-template" type="text/x-handlebars-template">
    {{#each this}}
    <option>{{this}}</option>
    {{/each}}
</script>
</body>
<script src="./js/dist/sea.js" type="text/javascript"></script>
<script src="./js/dist/jquery-3.3.1.min.js" type="text/javascript"></script>
<script src="./js/dist/handlebars-v4.1.0.js" type="text/javascript"></script>
<script>

    seajs.use(['./js/query.js'], function (query) {
        query.queryFun();
    });

    function goAdd() {
        window.location.href = 'add';
    }

    function goIndex() {
        window.location.href = './';
    }

</script>
</html>
